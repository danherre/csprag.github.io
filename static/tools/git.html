<!DOCTYPE html>
<html lang="en">

<head>
    
    <title>EECS 201 - git</title>
    <!-- Bootstrap 4 JS and CSS -->
<!-- style sheets and crap -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
    crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
<link rel="stylesheet" href="/csprag.github.io/static/css/class.css">
<!-- pygment stylesheets from here: https://github.com/richleland/pygments-css -->
<link rel="stylesheet" href="/csprag.github.io/static/css/pygments/pastie.css">
    
</head>

<body>
    
    <!-- Main Navbar -->
<nav class="navbar navbar-main sticky-top navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <div class="d-flex flex-grow-1">
            <span class="w-100 d-lg-none d-block">
                <!-- hidden spacer to center brand on mobile --></span>
            <a class="navbar-brand d-none d-lg-inline-block" href="https://csprag.herokuapp.com/">
                EECS 201
            </a>
            <div class="w-100 text-right">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#myNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </div>
        <div class="collapse navbar-collapse flex-grow-1 text-right" id="myNavbar">
            <ul class="navbar-nav ml-auto flex-nowrap">
                <li class="nav-item">
                    <a href="https://csprag.herokuapp.com/" class="nav-link m-2 menu-item">Home</a>
                </li>
                <li class="nav-item">
                    <a href="https://csprag.herokuapp.com/schedule" class="nav-link m-2 menu-item">Schedule</a>
                </li>
                <li class="nav-item">
                    <a href="https://csprag.herokuapp.com/grading" class="nav-link m-2 menu-item">Attendance/Grading/HW</a>
                </li>
                <li class="nav-item">
                    <a href="/" class="nav-link m-2 menu-item">Reference</a>
                </li>
                <li class="nav-item">
                    <a href="https://csprag.herokuapp.com/contribute" class="nav-link m-2 menu-item">Contribute</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
    

    <div id="content" class="container">
        

<div id="command-page">
    <br />
    <h2>git</h2>
<p><code>git</code> is a version control tool allowing for easy collaboration on projects.</p>
<div class="highlight"><pre><span></span>$ git clone https://github.com/c4cs/c4cs.github.io.git
$ <span class="nb">cd</span> c4cs.github.io
$ <span class="nb">echo</span> <span class="s2">&quot;Modified File&quot;</span> &gt;&gt; README.md
$ git add README.md
$ git commit -m <span class="s2">&quot;Added to README.md&quot;</span>
$ git push origin master
</pre></div>
<hr>
<h3>Useful Options / Examples</h3>
<h3><code>git init</code></h3>
<p>Initializes the current directory as a git repository</p>
<div class="highlight"><pre><span></span>$ git init
</pre></div>
<h3><code>git status</code></h3>
<p><code>git status</code> shows the current state of your git repository. This lists the current branch, all the
changes that have been made, and which changes are being tracked.</p>
<div class="highlight"><pre><span></span>$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    modified:   hello.cpp

Changes not staged <span class="k">for</span> commit:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>

    modified:   bye.cpp
</pre></div>
<h3><code>git log</code></h3>
<p><code>git log</code> Will display a list of all commits made on this project. For each commit, it will contain
the SHA-1 hash of the commit (this is sort of like a commit ID), maybe some action done in that
commit (such as the merge below), the author of the commit (so you know who to blame when the
project breaks), the date of the commit, and the commit message.</p>
<div class="highlight"><pre><span></span>$ git log
commit 09f6ef6fe7b28a3c1a3a296eb6d29d2c41310c83
Merge: e71dec1 d9ea675
Author: Some User &lt;suser@email.com&gt;
Date:   Fri Oct <span class="m">20</span> <span class="m">12</span>:32:59 <span class="m">2017</span> -0400

    Merge branch <span class="s1">&#39;other&#39;</span>

commit d9ea675b182da0f025695b4f311283f3b0d86a99
Author: Some User &lt;suser@email.com&gt;
Date:   Fri Oct <span class="m">20</span> <span class="m">12</span>:32:51 <span class="m">2017</span> -0400

    Add some files

commit e71dec129976601109ce805ed1d07cb684ae015f
Author: Some User &lt;suser@email.com&gt;
Date:   Fri Oct <span class="m">20</span> <span class="m">12</span>:31:47 <span class="m">2017</span> -0400

    Change some files

commit 54682b444b11f0e36f332679102a41329abe4a7f
Author: Some User &lt;suser@email.com&gt;
Date:   Fri Oct <span class="m">20</span> <span class="m">12</span>:06:04 <span class="m">2017</span> -0400

    Initial Commit
</pre></div>
<h3><code>git branch</code></h3>
<p><code>git branch</code> is used to make new branches or list local branches. A branch is like a different copy
of your repository. If you think of git as a tree (which you should), <code>git branch</code> branches off of
the current branch like so:</p>

<pre><code>                   C other
                  /
    D---E---A'---F master</code></pre>
<div class="highlight"><pre><span></span>$ git branch
* master
$ git branch other
$ git branch
* master
  other
</pre></div>
<h3><code>git checkout</code></h3>
<p><code>git checkout</code> allows you to switch to a different branch that you have already made.</p>
<div class="highlight"><pre><span></span>$ git branch other
$ git branch
* master
  other
$ git checkout other
$ git branch
  master
* other
</pre></div>
<h3><code>.gitignore</code></h3>
<p>A <code>.gitignore</code> file in your git repository will allow you to exclude particular files from being
tracked by git. In this example, git will not track the compiled <code>.out</code> file. Notice how it is not
listed by <code>git status</code>. This is commonly used to ignore compiled binaries in git repos since git
does not (normally) do well with binary files.</p>
<div class="highlight"><pre><span></span>$ touch .gitignore
$ <span class="nb">echo</span> <span class="s2">&quot;*.out&quot;</span> &gt;&gt; .gitignore
$ <span class="c1"># Make hello.cpp, a hello world program</span>
$ git status
Untracked files:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>

    hello.cpp

no changes added to commit <span class="o">(</span>use <span class="s2">&quot;git add&quot;</span> and/or <span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
$ g++ hello.cpp -o hello.out
$ ls
hello.cpp hello.out
$ git status
Untracked files:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>

    hello.cpp

no changes added to commit <span class="o">(</span>use <span class="s2">&quot;git add&quot;</span> and/or <span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
</pre></div>
<h3><code>.gitconfig</code></h3>
<p>This file is the global configuration file for all of your projects on this
machine. When you first ran git, it asked you to run <code>git config --global
user.name "Example Name"</code>. What that command was really doing was writing to
this file. Some other things that can be useful:</p>
<div class="highlight"><pre><span></span>$ cat ~/.gitconfig
<span class="o">[</span>user<span class="o">]</span>
    <span class="nv">name</span> <span class="o">=</span> Pat Pannuto
    <span class="nv">email</span> <span class="o">=</span> pat.pannuto@gmail.com

<span class="c1"># This will automatically fix simple typos, e.g. `git psuh` will run `git push`</span>
<span class="o">[</span>help<span class="o">]</span>
    <span class="nv">autocorrect</span> <span class="o">=</span> <span class="m">1</span>

<span class="c1"># Alias lets you create new git subcommands.</span>
<span class="c1"># The first example lets you type `git st` instead of `git status`.</span>
<span class="c1"># The rest of the examples augment `git log` to include various summaries of</span>
<span class="c1"># changed files, including the last example `git graph` we showed in lecture.</span>
<span class="c1"># Try them out!</span>
<span class="o">[</span>alias<span class="o">]</span>
    <span class="nv">st</span> <span class="o">=</span> status
    <span class="nv">ll</span> <span class="o">=</span> log --stat --abbrev-commit
    <span class="nv">gr</span> <span class="o">=</span> log --graph --full-history --all --color
    <span class="nv">graph</span> <span class="o">=</span> log --graph --full-history --all --color --pretty<span class="o">=</span>tformat:<span class="s2">&quot;%C(red)%h%C(reset)%x09%C(green)%d%C(reset)%C(bold)%s%C(reset)%C(yellow)(%an)%C(reset)&quot;</span>
</pre></div>
<h3><code>git add</code></h3>
<p><code>git add</code> tells git to start tracking one or multiple files. Using the <code>-A</code> flag, you can tell git
to track all changes in the git respository. Tracked files go in the staging area.</p>
<div class="highlight"><pre><span></span>$ touch hello.cpp
$ touch goodbye.cpp
$ touch c4cs.hpp
$ touch c4cs.cpp
$ git add hello.cpp
$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    new file:   hello.cpp

Untracked files:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>

    c4cs.cpp
    c4cs.hpp
    goodbye.cpp

$ git add -A
$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    new file:   c4cs.cpp
    new file:   c4cs.hpp
    new file:   goodbye.cpp
    new file:   hello.cpp
</pre></div>
<h3><code>git commit</code></h3>
<p><code>git commit</code> will save your added changes to the repository as a commit. The <code>-m</code> flag allows you to
add the commit comment inline. Otherwise, you would have to write the comment in a pop up text
editor (nano by default).</p>
<div class="highlight"><pre><span></span>$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    new file:   c4cs.cpp
    new file:   c4cs.hpp
    new file:   goodbye.cpp
    new file:   hello.cpp

$ git commit -m <span class="s2">&quot;Initial commit&quot;</span>
 <span class="m">4</span> files changed, <span class="m">0</span> insertions<span class="o">(</span>+<span class="o">)</span>, <span class="m">0</span> deletions<span class="o">(</span>-<span class="o">)</span>
</pre></div>
<h3><code>git reset</code></h3>
<p><code>git reset</code> is a command that undoes changes at several levels. You can un-add a tracked file by
using the <code>git reset</code> command. If you have already committed changes that you don't want to keep,
you can use <code>git reset --soft HEAD~1</code> which undoes the last commit, but keeps the changes in the
staging area. You undo the last n commits by changing <code>HEAD~1</code> to <code>HEAD~n</code> where n is the number of
commits you want to undo. If instead you don't want to keep any of the files in the commit, use <code>git
reset --hard HEAD~1</code>. This undoes a commit and removes the files that were committed.</p>
<div class="highlight"><pre><span></span>$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    new file:   c4cs.cpp
    new file:   c4cs.hpp
    new file:   goodbye.cpp
    new file:   hello.cpp

$ git reset hello.cpp
$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    new file:   c4cs.cpp
    new file:   c4cs.hpp
    new file:   goodbye.cpp

Untracked files:
  <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>

    hello.cpp

$ git add hello.cpp
$ git commit -m <span class="s2">&quot;Commit all files&quot;</span>
$ git status
On branch master
Your branch is up-to-date with <span class="s1">&#39;origin/master&#39;</span>.
nothing to commit, working directory clean
$ git reset --soft HEAD~1
$ git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>

    new file:   c4cs.cpp
    new file:   c4cs.hpp
    new file:   goodbye.cpp
    new file:   hello.cpp

$ git commit -m <span class="s2">&quot;Commit all files again&quot;</span>
$ git reset --hard HEAD~1
HEAD is not at 54682b4 Initial Commit
$ git status
On branch master
nothing to commit, working directory clean
$ ls
$
</pre></div>
<h3><code>git push</code></h3>
<p><code>git push</code> pushes the commited changes on your local repository to a remote repository. <code>remote</code> is
the url of the repository you are pushing to. <code>master</code> is the name of the branch you are pushing to
the repository.</p>
<div class="highlight"><pre><span></span>$ git push origin master
</pre></div>
<h3><code>git fetch</code>, <code>git merge</code>, <code>git pull</code></h3>
<p><code>git fetch</code> retreives the contents of the remote repository <code>origin</code> on branch <code>other</code> without
merging it with your current changes. You can checkout the fetched branch, but you will be in a
detached head which limits what you can do on the branch. You can merge your current branch with the
<code>other</code> branch by using <code>git merge other</code>. This will try to combine the commits in both branches in
chronological order. Issues will emerge if there are conflicting changes in the branches. These
issues must be resolved manually.
Alternatively you can do <code>git fetch origin other</code> to <code>fetch</code> then <code>merge</code> in one command.</p>
<div class="highlight"><pre><span></span>$ git fetch origin other
$ git merge other
</pre></div>
<p>OR</p>
<div class="highlight"><pre><span></span>$ git pull origin other
</pre></div>
<h3><code>git rebase</code></h3>
<p><code>git rebase</code> allows you to replay the changes made on one branch onto another branch. Think of git
as a tree. Initially you have this structure where each node is a commit:</p>

<pre><code>          A---B---C other
         /
    D---E---A'---F master</code></pre>
<p>Running <code>git rebase</code> will replay the changes you made on <code>other</code> onto <code>master</code> resulting in:</p>

<pre><code>                   B'---C' other
                  /
    D---E---A'---F master</code></pre>
<p>Notice here that A is skipped. This is because A and A' were both the same changes on both branches.
Rebasing instead of merging should be done when there are merge conflicts in order to maintain a
linear commit history.</p>
<p>During a rebase, conflicts may emerge. You have to resolve these manually. When you are done
resolving conflicts, execute <code>git rebase --continue</code> to continue with the rebase. If you do not wish
to resolve conflicts, execute <code>git rebase --skip</code>. If you want to abort the rebase process, execute
<code>git rebase --abort</code>.</p>
<div class="highlight"><pre><span></span>$ git rebase master other
First, rewinding head to replay your work on top of it...
Applying: change from branch other
Using index info to reconstruct a base tree...
M   hello.cpp
Falling back to patching base and <span class="m">3</span>-way merge...
Auto-merging hello.cpp
CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conglict in hello.cpp
Error: failed to merge in the changes.
$ <span class="c1"># Fix merge conflicts manually</span>
$ git rebase --continue
$ <span class="c1"># Other merge conflict</span>
$ git rebase --skip
$ <span class="c1"># Other merge conflict</span>
$ git rebase --abort
</pre></div>
<h3><code>git blame</code></h3>
<p><code>git blame</code> will provide a line by line break down of who made what change in which commit. This is
useful in not only blaming people when a project breaks, but also if you don't understand what a
line of code does, you know who to ask.</p>
<div class="highlight"><pre><span></span>$ git blame hello.cpp
</pre></div>
<h3><code>git cherry-pick</code></h3>
<p><code>git cherry-pick</code> allows you to choose particular commit(s) from one branch and apply them on another.
This will create new commits on the branch to which you are applying the commits. The command below
will apply the 13th to last and 4th to last commits from the branch <code>other</code> onto the branch
<code>master</code>.</p>
<div class="highlight"><pre><span></span>$ git checkout master
$ git cherry-pick other~12 other~3
</pre></div>

</div>


    </div>

    
    <nav class="navbar sticky-bottom navbar-light bg-light">
    <div class="container">
        <!-- <a href="https://www.youtube.com/watch?v=KlLMlJ2tDkg" target="_blank">w0w</a> -->
        <div class="d-flex flex-grow-1">
            <span class="w-100 d-lg-none d-block">
                <!-- hidden spacer to center brand on mobile --></span>
            <small>
                <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License"
                        style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br /><span
                    xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Computer Science Pragmatics</span>
                by <a xmlns:cc="http://creativecommons.org/ns#" href="http://patpannuto.com" property="cc:attributionName"
                    rel="cc:attributionURL">Pat Pannuto</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative
                    Commons Attribution 4.0 International License</a>.
            </small>
        </div>
        <div class="flex-grow-1 text-right">
            <p class="text-muted">
                &copy; 2019 <a href="http://patpannuto.com">Pat Pannuto</a>
            </p>
        </div>
    </div>
</nav>
    
</body>

</html>